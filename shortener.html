<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Corrupted - Generate Link</title>
<style>
body{font-family:Arial, sans-serif;background:#000;color:#fff;text-align:center;padding-top:100px;}
input{padding:10px;width:60%;margin-bottom:10px;border-radius:10px;border:2px solid #ccc;font-size:16px;}
button{padding:10px 20px;border-radius:15px;background:#000;border:2px solid #ccc;color:#fff;font-size:16px;cursor:pointer;transition:0.3s;}
button:hover{border-color:red;transform:scale(1.05);}
#result{margin-top:20px;font-size:18px;}
</style>
</head>
<body>

<h2 id="site-name">Site</h2>
<input type="text" id="url" placeholder="Paste your link here">
<button id="generate">Generate</button>
<p id="result"></p>

<script>
const params = new URLSearchParams(window.location.search);
const site = params.get('site');
document.getElementById('site-name').innerText = site;

document.getElementById('generate').addEventListener('click', async ()=>{
  const url = document.getElementById('url').value;
  if(!url) return alert('Enter a link!');
  try{
    const response = await fetch(`/api/${site}.js?url=${encodeURIComponent(url)}`);
    const shortUrl = await response.text();
    document.getElementById('result').innerHTML = `[${shortUrl}]`;
  }catch(err){
    document.getElementById('result').innerText='Error generating link';
  }
});
</script>

</body>
</html>
